(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{23:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Components/CarbonAction",function(){return t(2595)}])},298:function(e,a){"use strict";a.Z={src:"/clear/_next/static/media/clear_logo.68d8598f.png",height:100,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAyUlEQVR42mNw6/vHyAAFuvv+OStf/lck8+ZflfDff/oMyMB61r+lOpv//Zc/8e+/4MN//3k+/zsLl/Sr/lfuMPnff5PF/z5r7P23RPrqv2USz/8FwRVoPPt3VPrxv/9Wq/7FMiCDj1Drmb/9O8b99N9/6dv/ohiQgEUZVIHk43+V4tf+/Vc89u+j3rZ/CyyX/ltkP+OfHwMyUDr9b7n67n//DVb/+281899/516oI7XOI7xpvOmfq/mif8WO/f+qvFv+GTAwMDAAAH6oY62LSlVgAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},2595:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var s=t(5893),n=t(4871),r=t.n(n),o=t(7294);t(9603),t(7680),t(298),t(7721);var c=t(5157);t(5675),t(9844);let{Configuration:l,OpenAIApi:i}=t(9590);function d(){let e=(0,o.useContext)(c.vQ),a=(0,o.useContext)(c.t8),t=(0,o.useContext)(c.IQ),n=(e=>{switch(e){case"gasCar":return"driving a gasoline car";case"elecCar":return"driving an electric car";case"bus":return"riding a bus";case"train":return"riding a train";case"bike":return"cycling";case"walk":return"walking";default:return""}})(e.methodTravel),l=(e=>{switch(e){case"never":return"don't eat red meat";case"everyMeal":return"eat red meat every meal";case"once":return"eat red meat once a week";default:return""}})(a.redMeat),i=(e=>{switch(e){case"detached":return"single-family detached house";case"attached":return"single-family attached house";case"smallApt":return"small apartment (2 - 4 units)";case"largeApt":return"large apartment (5+ units)";case"mobile":return"mobile home";default:return""}})(t.homeType),d=(e=>{switch(e){case"never":return"never on";case"fewHours":return"on for a few hours each day";case"mostHours":return"on for most of the day";case"allDay":return"on all day and night";default:return""}})(t.heatingCoEff),u=()=>"Here's an example of how I want the suggestions (but with three instead of two):         - Take a bike instead of driving when possible.        - Try carpooling with coworkers or friends.        \n        - Plan meals around seasonal produce.         - Explore vegetarian or vegan meals a few times a week.         \n        - Unplug devices when they're not in use.        - Consider switching to energy-efficient light bulbs."+("Based on my (the user's) data: \n"+"I commute ".concat(e.milesDaily," miles daily ").concat(n,". I travel ").concat(e.daysPerWeek," days per week. ")+"Locally-sourced food comprises of ".concat(a.percentLocal,"% of my meals and I ").concat(l,". I save ").concat(100-a.foodSaved," percent of my food per week. ")+"My monthly electricity bill is ".concat(t.electricityBill," dollars. I live in a ").concat(i,". During the cold months, my heating is ").concat(d,"."))+"What are some suggestions to improve my carbon footprint? Be specific. Give 3 short suggestions for each category of commute, food, and electricity.                    After each category of suggestions (commute, food, electricity), make two new lines before starting the next one. Do not include the category name (ex: commute, food, electricity).                    Each suggestion should be less than 10 words. One new line after every suggestion                    (except the space between the categories). Sound like a human being. Don't include a preface. Don't include a closing paragraph.                    Make sure the suggestions are relevant to the user's data. \n",[g,h]=(0,o.useState)(!1),m=async()=>{let e=u(),a=await fetch("/api/openai-goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})}),t=await a.json();if(console.log("OpenAI Response:",t),!t||!(t.message.length>0))return console.error("Unexpected OpenAI response format:",t),[];{let e=t.message.split("\n").filter(e=>""!==e.trim()).slice(0,9);return e.map(e=>e.replace(/^(?:\d+\.\s*|\d+\)\s*|\d+\s*|[a-zA-Z]\.\s*|\*\s*|-\s*|•\s*|→\s*|>\s*)/gm,"").trim())}},[f,p]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=async()=>{h(!0);let e=await m();p(e),h(!1)};e()},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:r().carbonActionCard,children:[(0,s.jsxs)("div",{className:r().goalSettingSection,children:[(0,s.jsx)("h1",{className:r().goalSettingHeader,children:"Personalized Climate Change Tips"}),(0,s.jsx)("p",{className:r().goalSettingHeaderCond,children:"We'll keep you updated on your climate goals"}),g?(0,s.jsx)(()=>(0,s.jsx)("div",{className:r().loadingGoalsSection,children:(0,s.jsxs)("div",{className:r().loadingGoals,children:[(0,s.jsx)("h6",{className:r().loadingGoalsHeader,children:"Working on climate change tips for you..."}),(0,s.jsx)("div",{className:r().pulsatingCircle})]})}),{}):(0,s.jsxs)("div",{className:r().goalSettingCheckbox,children:[(0,s.jsxs)("div",{className:r().goalSettingCheckboxGroup,children:[(0,s.jsx)("h2",{className:r().goalSettingSubHeader,children:"Commute"}),(0,s.jsx)("div",{className:r().goalCheckboxGroup,children:f.slice(0,3).map((e,a)=>(0,s.jsx)("p",{className:r().goalItem,children:e},a))})]}),(0,s.jsxs)("div",{className:r().goalSettingCheckboxGroup,children:[(0,s.jsx)("h2",{className:r().goalSettingSubHeader,children:"Food"}),(0,s.jsx)("div",{className:r().goalCheckboxGroup,children:f.slice(3,6).map((e,a)=>(0,s.jsx)("p",{className:r().goalItem,children:e},a))})]}),(0,s.jsxs)("div",{className:r().goalSettingCheckboxGroup,children:[(0,s.jsx)("h2",{className:r().goalSettingSubHeader,children:"Electricity"}),(0,s.jsx)("div",{className:r().goalCheckboxGroup,children:f.slice(6,9).map((e,a)=>(0,s.jsx)("p",{className:r().goalItem,children:e},a))})]})]})]}),(0,s.jsxs)("div",{className:r().yellowCircleContainer,children:[(0,s.jsx)("div",{className:"".concat(r().yellowCircle," ").concat(r().yellowCircle1)}),(0,s.jsx)("div",{className:"".concat(r().yellowCircle," ").concat(r().yellowCircle2)}),(0,s.jsx)("div",{className:"".concat(r().yellowCircle," ").concat(r().yellowCircle3)})]})]})})}}},function(e){e.O(0,[810,976,737,16,165,603,6,392,675,953,792,721,774,888,179],function(){return e(e.s=23)}),_N_E=e.O()}]);